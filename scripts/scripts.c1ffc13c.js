"use strict";angular.module("appsngen.portal.auth.controllers",[]),angular.module("appsngen.portal.auth.services",[]),angular.module("appsngen.portal.auth.directives",[]),angular.module("appsngen.portal.auth",["appsngen.portal.auth.controllers","appsngen.portal.auth.services","appsngen.portal.auth.directives"]),angular.module("appsngen.portal.auth.services").factory("loginService",["authSession","userService",function(a,b){return{createSession:function(c,d,e,f){return a.create(d,e,f),b.one(c).get().then(function(b){a.setUsername(b.username),a.setDisplayName(b.displayName),a.setOrganizationId(b.organization.urn),a.setOrganizationDisplayName(b.organization.displayName),a.setUserRoles(b.authorities),a.setPreferredSite(b.organization.preferredSite)},function(){a.destroy()})}}}]),angular.module("appsngen.portal.auth.services").factory("authService",["CONFIG","tokenService","$q",function(a,b,c){var d={scope:{services:["mobile-applications","dashboards","preferences","widgets","data-source-orders","widget-orders","data-source-subscriptions","widget-subscriptions","search","access","users","gadget-management","data-sources","themes","organizations","mobile-applications","audit","configuration","categories"]}},e={scope:{services:["preferences","widgets","users"]}},f={scope:{identity:!0}};return{authenticate:function(a){return c.all([b.create(a.username,a.password,d),b.create(a.username,a.password,f)])},authenticateWithThirdPartyToken:function(a,e){var g=c.defer();return b.createUsingThirdPartyToken(a,e,d).then(function(c){b.createUsingThirdPartyToken(a,e,f).then(function(a){g.resolve([c,a])},function(){g.reject()})},function(){g.reject()}),g.promise},authenticateAnonymousUser:function(a){return b.createUsingMasterToken(e,null,null,a)}}}]),angular.module("appsngen.portal.auth.services").factory("authSession",["localStorageService",function(a){var b="authData",c=a.get(b);return{create:function(d,e,f){c={accessToken:d,identityToken:e,isAnonymous:f},a.set(b,c)},destroy:function(){c=void 0,a.remove(b)},getAccessToken:function(){return c?c.accessToken:""},getIdentityToken:function(){return c?c.identityToken:""},setDisplayName:function(d){c&&(c.displayName=d,a.set(b,c))},getDisplayName:function(){return c?c.displayName:""},setOrganizationId:function(d){c&&(c.organizationId=d,a.set(b,c))},getOrganizationId:function(){return c?c.organizationId:""},setOrganizationDisplayName:function(d){c&&(c.organizationDisplayName=d,a.set(b,c))},getOrganizationDisplayName:function(){return c?c.organizationDisplayName:""},setUserRoles:function(d){var e;if(c){for(c.userRoles=[],e=0;e<d.length;e++)d[e].hasOwnProperty("name")&&c.userRoles.push(d[e].name);a.set(b,c)}},getUserRoles:function(){return c?c.userRoles:[]},setPreferredSite:function(d){c&&(c.preferredSite=d,a.set(b,c))},getPreferredSite:function(){return c?c.preferredSite:""},setUsername:function(d){c&&(c.userame=d,a.set(b,c))},getUsername:function(){return c?c.userame:""},isAuthenticated:function(){return!c||c.isAnonymous?!1:this.getAccessToken()?!0:!1},isAdmin:function(){return this.getUserRoles().indexOf("ROLE_APPSTORE_ADMIN")>=0},isOrganizationAdmin:function(){return this.getUserRoles().indexOf("ROLE_ADMIN")>=0},isSalesUser:function(){return this.getUserRoles().indexOf("ROLE_SALES")>=0}}}]),angular.module("appsngen.portal.auth.services").factory("authEpamSSOService",["Restangular",function(a){var b=a.one("epam-sso-tokens");return{authenticate:function(a){return b.post("",JSON.stringify(a))}}}]),angular.module("appsngen.portal.auth.controllers").controller("LoginCtrl",["$scope","$rootScope","$location","$stateParams","$state","authService","authSession","loginService","$sce","CONFIG","$window",function(a,b,c,d,e,f,g,h,i,j,k){return g.isAuthenticated()?void e.go("home"):(a.accountActivated=d.accountActivated,a.clientId=j.epamSSOClientId,a.redirectUri=e.href("loginEpamSSOCallback",{},{absolute:!0}),a.authUrl=i.trustAsResourceUrl(j.epamSSOAuthUrl),a.resource=j.epamSSOResource,a.marketingEndpoint=j.marketingEndpoint,"true"===a.accountActivated?a.state="accountActivated":a.state="login",a.goHome="signup"===b.previousStateName||"signupConfirmation"===b.previousStateName||"logout"===b.previousStateName||"accountActivated"===a.state,a.user={username:"",password:""},a.closeHref=a.goHome?a.marketingEndpoint:"",a.close=function(){a.goHome||(""===b.previousStateName?k.history.back():e.go(b.previousStateName,{},{location:"replace"}))},void(a.login=function(){a.submitting=!0,a.authError=!1,a.stateName=b.loginStateName||"home",f.authenticate(a.user).then(function(c){h.createSession(a.user.username,c[0].accessToken,c[1].accessToken).then(function(){b.$broadcast("login:success"),e.go(a.stateName)})["finally"](function(){b.loginStateName="",a.submiting=!1})},function(){c.search("accountActivated","false"),a.user.password="",a.submitting=!1,a.state="login",a.authError=!0})}))}]),angular.module("appsngen.portal.auth.controllers").controller("LogoutCtrl",["$state","authSession",function(a,b){b.destroy(),a.go("login",{},{location:"replace"})}]),angular.module("appsngen.portal.auth.controllers").controller("LoginEpamSSOCallbackCtrl",["$rootScope","$base64","authService","authSession","authEpamSSOService","loginService","$state","$stateParams","notifier","CONFIG",function(a,b,c,d,e,f,g,h,i,j){var k=h.code,l=h.error,m=h.error_description,n=function(a){for(var c,d=a.accessToken.split(".")[1];d.length%4!==0;)d+="=";try{c=JSON.parse(b.decode(d))}catch(e){c=null}return c};return d.isAuthenticated()?void g.go("home"):l?(i.error(m||"Can't get EPAM's code for access token."),void g.go("login")):void(k?e.authenticate({client_id:j.epamSSOClientId,redirect_uri:g.href("loginEpamSSOCallback",{code:""},{absolute:!0}),code:k,grant_type:"authorization_code"}).then(function(b){c.authenticateWithThirdPartyToken(j.epamSSOOrganizationId,b.access_token).then(function(b){var c=n(b[0]);return c?void f.createSession(c.aud.user,b[0].accessToken,b[1].accessToken).then(function(){a.$broadcast("login:success"),g.go("home")},function(){g.go("login")}):(i.error("Can't parse EPAM's access token."),void g.go("login"))},function(){i.error("Bad credentials."),g.go("login")})},function(){g.go("login")}):(i.error("There is no access code in response from EPAM SSO."),g.go("login")))}]),angular.module("appsngen.portal.auth.directives").directive("loginPage",function(){return{restrict:"A",link:function(a,b){var c="onorientationchange"in window,d=c?"orientationchange":"resize",e=$(window),f=$("body"),g=$("meta[name=viewport]"),h=g.attr("content"),i="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",j=b.parent(),k=j.attr("class"),l=function(){e.scrollTop(0)};g.attr("content",i),f.addClass("login-page"),j.removeClass().addClass("content-wrapper-small"),e.on(d,l),a.$on("$destroy",function(){g.attr("content",h),f.removeClass("login-page"),j.removeClass().addClass(k),e.off(d,l)})}}}),angular.module("appsngen.portal.accountsettings.controllers",[]),angular.module("appsngen.portal.accountsettings",["appsngen.portal.accountsettings.controllers"]),angular.module("appsngen.portal.accountsettings.controllers").controller("AccountCtrl",["$scope","authSession",function(a,b){var c=function(){a.username=b.getDisplayName(),a.email=b.getUsername(),a.organizationId=b.getOrganizationId(),a.organizationName=b.getOrganizationDisplayName()};a.$on("login:success",function(){c()}),c()}]),angular.module("appsngen.portal.common.directives",[]),angular.module("appsngen.portal.common.services",[]),angular.module("appsngen.portal.common.controllers",[]),angular.module("appsngen.portal.common.filters",[]),angular.module("appsngen.portal.common",["appsngen.portal.common.directives","appsngen.portal.common.controllers","appsngen.portal.common.services","appsngen.portal.common.filters"]),angular.module("appsngen.portal.common.controllers").controller("TabsetCtrl",["$scope",function(a){var b,c=this,d=a.tabs=[];c.select=function(a){angular.forEach(d,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},c.addTab=function(a){d.push(a),1===d.length&&a.active!==!1?a.active=!0:a.active?c.select(a):a.active=!1},c.removeTab=function(a){var e=d.indexOf(a);if(a.active&&d.length>1&&!b){var f=e===d.length-1?e-1:e+1;c.select(d[f])}d.splice(e,1)},c.getTabByHeading=function(a){return _.find(d,{heading:a})},a.$on("$destroy",function(){b=!0})}]),angular.module("appsngen.portal.common.controllers").controller("HeaderCtrl",["$scope","authSession",function(a,b){var c=function(){a.username=b.getDisplayName(),a.email=b.getUsername(),a.organizationId=b.getOrganizationId(),a.organizationName=b.getOrganizationDisplayName()};a.$on("login:success",function(){c()}),c()}]),angular.module("appsngen.portal.common.controllers").controller("NavigationCtrl",["$scope","$rootScope","$state",function(a,b,c){a.navigation={items:[{name:"Sandbox",items:[{name:"Widgets",states:["sandbox.widgets"]},{name:"Dashboards",states:["sandbox.dashboards"]},{name:"Applications",states:["sandbox.applications"]},{name:"Data Sources",states:["sandbox.datasources"]}]},{name:"Subscriptions",items:[{name:"Widgets",states:["subscriptions.widgets"]},{name:"Data Sources",states:["subscriptions.datasources"]}]}]};var d=function(b){a.navigation.items.forEach(function(a){a.selected=!1,a.items.forEach(function(c){c.states.forEach(function(d){d===b.name?(c.selected=!0,a.selected=!0):c.selected=!1})})})};b.$on("$stateChangeSuccess",function(a,b){d(b)}),d(c.current)}]),angular.module("appsngen.portal.common.directives").directive("underConstructionPage",function(){return{restrict:"A",link:function(a){var b=$("body");b.addClass("under-construction-page"),a.$on("$destroy",function(){b.removeClass("under-construction-page")})}}}),angular.module("appsngen.portal.common.directives").directive("headerMenu",function(){return{restrict:"E",controller:"HeaderCtrl",templateUrl:"views/common/header.html"}}),angular.module("appsngen.portal.common.directives").directive("dropdownMenu",function(){return{restrict:"E",scope:{items:"="},templateUrl:"views/common/dropdown-menu.html"}}),angular.module("appsngen.portal.common.directives").directive("fullScreenPage",function(){return{restrict:"A",link:function(a){var b=$("body");b.addClass("full-screen-page"),a.$on("$destroy",function(){b.removeClass("full-screen-page")})}}}),angular.module("appsngen.portal.common.directives").directive("fullScreenPageHeader",function(){return{restrict:"E",transclude:!0,templateUrl:"views/common/fullscreenpageheader.html",link:function(a){a.switchCallback=function(){},a.toggleLayoutCallback=function(){}}}}),angular.module("appsngen.portal.common.directives").directive("sidebar",function(){return{restrict:"E",transclude:!0,templateUrl:"views/common/sidebar.html",scope:{withoutSearch:"="},link:function(a,b){var c=b.find(".chevron-icons"),d=function(){var a=$(".sidebar");a.toggleClass("menu-close")};c.click(d)}}}),angular.module("appsngen.portal.common.directives").directive("deviceSwitcher",["notifier",function(a){return{restrict:"E",templateUrl:"views/common/deviceswitcher.html",scope:{switchCallback:"=switchCallback",toggleLayoutCallback:"=toggleLayoutCallback",layouts:"=layouts"},link:function(b,c){if(!b.layouts||!b.layouts.length)throw new TypeError("Layouts array is empty or undefined");var d=c.find(".device-switcher"),e=c.find("ul.menu"),f=e.find("li"),g=d.find(".devices-wrapper"),h=g.find("label"),i=b.layouts,j=function(){var a,c;a=-1!==_.indexOf(i,"desktop")?g.find('label[layout="desktop"]'):-1!==_.indexOf(i,"tablet")?g.find('label[layout="tablet"]'):g.find('label[layout="mobile"]'),c=a.find("input"),c.prop("checked",!0),b.switchCallback(a.attr("layout"))},k=function(a){var b;a?(b=g.find('label[layout="'+a+'"]'),b.addClass("active-layout")):_.each(h,function(a){var b=$(a),c=b.attr("layout");_.each(i,function(a){c===a&&b.addClass("active-layout")})})},l=function(a){var b=g.find('label[layout="'+a+'"]');b.removeClass("active-layout"),b.find("input").prop("checked",!1)},m=function(){_.each(f,function(a){var b=$(a),c=b.attr("layout");_.each(i,function(a){c===a&&b.find("input").prop("checked",!0)})})};d.on("change",'input[type="radio"]',function(a){b.$apply(function(){var c=$(a.target);c.prop("checked")&&b.switchCallback(a.target.id)})}),e.on("click",'input[type="checkbox"]',function(c){b.$apply(function(){var d=$(c.target),e=d.prop("checked"),f=d.attr("mode"),h=g.find('label[layout="'+f+'"]').find("input").prop("checked");e?(i.push(f),k(f),b.toggleLayoutCallback(i,!0)):1!==i.length?(_.pull(i,f),h&&j(),l(f),b.toggleLayoutCallback(i,!1)):(d.prop("checked",!0),a.error({message:"At least one device must be selected."}))})}),k(),j(),m()}}}]),angular.module("appsngen.portal.common.directives").directive("notification",["$rootScope","$timeout",function(a,b){var c,d={success:1500,error:5e3,warning:4e3,info:5e3},e=function(a,b){b.stop(!0).fadeOut(500,function(){a.$apply(function(){a.hideNotification=!0})})},f=function(a,f,g,h,i){a.hideNotification=!1,a.notificationClass="notification-"+g,a.message=h,a.header=i,f.show(),b.cancel(c),c=b(function(){e(a,f)},d[g])};return{restrict:"E",scope:!0,replace:!0,templateUrl:"views/common/notification.html",link:function(d,e){d.hideNotification=!0,a.$on("notifier:newNotification",function(a,b){f(d,e,b.type,b.message,b.header)}),d.onClose=function(){d.hideNotification=!0,b.cancel(c)}}}}]),angular.module("appsngen.portal.common.directives").directive("droppable",["$timeout",function(a){var b={overlap:.5};return{restrict:"A",scope:{droppableInitObject:"="},link:function(c,d){if(!c.droppableInitObject)throw new TypeError("Init object is not defined");a(function(){var a=$.extend(!0,{},b,c.droppableInitObject),e="#"+$(d).attr("id");interact(e).dropzone(a)})}}}]),angular.module("appsngen.portal.common.directives").directive("draggable",["$timeout",function(a){var b=function(a){var b=$(a.target).parent(),c=(parseFloat(b.attr("data-x"))||0)+a.dx,d=(parseFloat(b.attr("data-y"))||0)+a.dy;b.css("transform","translate("+c+"px, "+d+"px)"),b.attr("data-x",c),b.attr("data-y",d)},c=function(a){var b=$(a.target).parent(),c=b.outerWidth(),d=b.outerHeight(),e=b.closest(".draggable-container"),f=b.closest(".sidebar-content");if(f[0]){var g=-f.scrollTop();e.css("min-height",d),e.css("min-width",c),b.attr("data-y",g)}b.css("position","fixed")},d=function(a){var b=$(a.target).parent();b.css("position","relative"),a.dropzone||(b.css("transform","translate(0px, 0px)"),b.attr("data-x","0"),b.attr("data-y","0"))},e={restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},onmove:b,onstart:c,onend:d};return{restrict:"A",scope:{draggableInitObject:"="},link:function(b,c){if(!b.draggableInitObject)throw new TypeError("Init object is not defined");a(function(){var a=$.extend(!0,{},e,b.draggableInitObject),d="#"+$(c).attr("id")+" "+a.target;interact(d).draggable(a)})}}}]),angular.module("appsngen.portal.common.directives").directive("errorSrc",function(){return{link:function(a,b,c){b.bind("error",function(){c.src!==c.errorSrc&&c.$set("src",c.errorSrc)}),c.$observe("ngSrc",function(a){!a&&c.errSrc&&c.$set("src",c.errSrc)})}}}),angular.module("appsngen.portal.common.directives").directive("tabset",["$timeout",function(a){return{restrict:"E",transclude:!0,replace:!0,controller:"TabsetCtrl",templateUrl:"views/common/tabset.html",scope:{mode:"@",contentClass:"@",scrollable:"="},link:function(b,c,d,e){var f=0,g=!1,h=c.find(".tabs-titles"),i=$(document),j=0,k=function(a){var b=a.getBoundingClientRect();return{top:b.top+window.pageYOffset,left:b.left+window.pageXOffset}},l=k(c[0]),m=function(a){j=a,h.css({transform:"translate3d("+j+"px, 0px, 0px)"})},n=function(a){m(a>0?0:f>a?f:a)},o=function(a){return 0===a.type.indexOf("touch")?a.originalEvent.touches[0].pageX:a.pageX},p=function(){c.on("mousedown touchstart",function(a){var b=o(a)-l.left,d=b-j;i.one("mousemove touchmove",function(){c.addClass("mousemove")}),i.on("mousemove touchmove",function(a){var b=o(a)-l.left;m(b-d)}),i.on("mouseup touchend",function(){i.off("mousemove touchmove"),i.off("mouseup touchend"),c.removeClass("mousemove"),n(j)})}),c.on("click","li",function(){var a=-(k(this).left-l.left);n(a+j+50)}),c.on("dragstart",function(){return!1}),g=!0},q=function(){c.off("mousedown touchstart dragstart click"),g=!1},r=function(){f=c.width()-h.width(),!g&&0>f?p():g&&f>=0&&q()},s=function(){l=k(c[0]),r(),m(0)};b.$on("tabset.active",function(a,b){e.getTabByHeading(b).select()}),b.scrollable&&(b.$watch("tabs.length",function(){a(function(){r()},0)}),$(window).on("resize",s),b.$on("$destroy",function(){m(0),$(window).off("resize",s)}))}}}]).directive("tab",function(){return{require:"^tabset",restrict:"EA",replace:!0,template:'<div class="tab-content-block" ng-class="{selected: active}" ng-transclude></div>',transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},compile:function(a,b,c){return function(a,b,d,e){a.$watch("active",function(b){b&&e.select(a)}),a.select=function(){a.active=!0},e.addTab(a),a.$on("$destroy",function(){e.removeTab(a)}),a.$transcludeFn=c}}}}),angular.module("appsngen.portal.common.directives").directive("resize",["$window",function(a){return{scope:{callback:"&resize"},link:function(b){var c=angular.element(a),d=function(){b.$apply()};b.getWindowDimensions=function(){return{h:c.height(),w:c.width()}},b.$watch(b.getWindowDimensions,function(a){b.windowHeight=a.h,b.windowWidth=a.w,b.callback({w:b.windowWidth,h:b.windowHeight})},!0),c.on("resize",d),b.$on("$destroy",function(){c.off("resize",d)})}}}]),angular.module("appsngen.portal.common.directives").directive("navigation",function(){return{restrict:"E",controller:"NavigationCtrl",templateUrl:"views/common/navigation.html"}}),angular.module("appsngen.portal.common.services").factory("notifier",["$rootScope",function(a){var b=function(b){a.$emit("notifier:newNotification",b)},c=function(a){b({message:a.message,type:"success",header:a.title||""})},d=function(a){b({message:a.message,type:"warning",header:a.title||"Warning"})},e=function(a){b({message:a.message,type:"error",header:a.title||"Error"})},f=function(a){b({message:a.message,type:"info",header:a.title||"Information"})};return{success:c,error:e,warn:d,info:f}}]),angular.module("appsngen.portal.common.services").factory("userService",["Restangular",function(a){return a.service("users")}]),angular.module("appsngen.portal.common.services").factory("actionService",function(){var a={PUBLISH:"PUBLISH",DELETE:"DELETE",SUBMIT_FOR_REVIEW:"SUBMIT_FOR_REVIEW",RETIRE:"RETIRE",REJECT:"REJECT",PUT_UNDER_REVIEW:"PUT_UNDER_REVIEW",RECALL_REVIEW:"RECALL_REVIEW"},b={UPLOADED:[a.DELETE,a.SUBMIT_FOR_REVIEW],SUBMITTED:[a.PUT_UNDER_REVIEW,a.RECALL_REVIEW],RETIRED:[a.PUBLISH,a.DELETE,a.SUBMIT_FOR_REVIEW],PUBLISHED:[a.RETIRE],UNDER_REVIEW:[a.PUBLISH,a.REJECT]},c=function(a,c){return b[c]?b[c].indexOf(a)>=0:!1};return{isDeleteAllowed:function(b){return c(a.DELETE,b)},isSubmitForReviewAllowed:function(b){return c(a.SUBMIT_FOR_REVIEW,b)},isRecallReviewAllowed:function(b){return c(a.RECALL_REVIEW,b)}}}),angular.module("appsngen.portal.common.services").factory("PagingModel",["$q",function(a){var b,c,d,e,f,g,h,i,j,k,l=20,m=function(){return b},n=function(a){b=a},o=function(){return c},p=function(){b=0,h=!1,g=!0},q=function(a){c=a,p()},r=function(a){j=a,p()},s=function(a){d=a,p()},t=function(a){e=a,p()},u=function(a){k=a,p()},v=function(a){f=a,p()},w=function(){j="",c=""},x=function(){return g},y=function(m){if(x()&&!h){h=!0;var n=$.extend({offset:b,max:l,sort:c,search:d,platform:e,category:k,visibilities:f,order:j},m);return i(n).then(function(a){return b+=l,g=b<a.totalCount,a.list})["finally"](function(){h=!1})}return a.when([])};return function(a){return i=a,w(),p(),{getOffset:m,setOffset:n,getSort:o,setSort:q,setOrder:r,resetSort:w,setSearch:s,setPlatform:t,setCategory:u,setVisibilities:v,hasMore:x,load:y,resetParameters:p}}}]),angular.module("appsngen.portal.common.services").factory("appsngenApi",["CONFIG",function(a){var b;return{ensureApiLoaded:function(){var c;return b?b.promise():(b=new $.Deferred,c=document.createElement("script"),c.src=a.viewerEndpoint+"/content/js/appsngen.container.api.js",c.onload=function(){window.appsngen?b.resolve(window.appsngen):(console.error("appsngen.api loaded but no appsngen namespace found"),b=null)},c.onerror=function(){b.reject(),b=null},document.body.appendChild(c),b.promise())}}}]),angular.module("appsngen.portal.common.services").factory("dashboardApi",["CONFIG",function(a){var b;return{ensureApiLoaded:function(){var c;return b?b.promise():(b=new $.Deferred,c=document.createElement("script"),c.src=a.dashboardViewerEndpoint+"/js/dashboard.js",c.onload=function(){window.dashboardRenderer?b.resolve(window.dashboardRenderer):(console.error("dashboard.api loaded but no dashboardRenderer namespace found"),b=null)},c.onerror=function(){b.reject(),b=null},document.body.appendChild(c),b.promise())}}}]),angular.module("appsngen.portal.common.filters").filter("join",function(){return function(a,b){return a.join(b)}}),angular.module("appsngen.portal.data.services",[]),angular.module("appsngen.portal.data",["appsngen.portal.data.services"]),angular.module("appsngen.portal.data.services").factory("tokenService",["Restangular","CONFIG","$base64","authSession",function(a,b,c,d){var e=a.all("tokens"),f=function(a){return encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)})};return{create:function(a,b,d){var g=f(a+":"+b),h={Authorization:"Basic "+c.encode(g)};return e.post(d,{},h)},createUsingMasterToken:function(a,c,f,g){var h={Authorization:"Bearer "+b.masterToken},i={user:g||d.getUsername()};return c&&(i.lifetime=c),f&&(i.skipSubscriptionsCheck=f),e.customPOST(a,"using-master-token",i,h)},createUsingThirdPartyToken:function(a,b,c){var d={Authorization:"Bearer "+b};return e.customPOST(c,"organizations/"+a,{},d)}}}]),angular.module("appsngen.portal.data.services").factory("usersService",["Restangular",function(a){var b=a.one("users");return{getUsers:function(a){return b.get(a)},createUser:function(a){return b.customPOST(a)},deleteUser:function(a){return b.one(a).remove()},updatePassword:function(a){return b.one(a.username).one("password").customPUT(angular.toJson(a))},updateUser:function(a){return b.one(a.username).customPUT(a)}}}]),angular.module("appsngen.portal.data.services").factory("dashboardService",["Restangular","authSession","CONFIG",function(a,b,c){var d=a.one("dashboards");return{getDashboards:function(a){return d.get({organizationId:b.getOrganizationId(),offset:a.offset,max:a.max,sort:a.sort,order:a.order,devices:a.devices})},getSandboxDashboards:function(a){return d.get({view:"sandbox",organizationId:b.getOrganizationId(),offset:a.offset,max:a.max,order:a.order})},getAllDashboards:function(a){return d.get({organizationId:b.getOrganizationId(),devices:a})},getDashboardPreview:function(a){return d.one(a).get({organizationId:b.getOrganizationId()})},deleteDashboard:function(a){return d.one(a).remove({organizationId:b.getOrganizationId()})},renameDashboard:function(a,c){var e=d.one(a);return e.name=c,e.put({organizationId:b.getOrganizationId()})},create:function(c){var d=a.withConfig(function(a){a.setFullResponse(!0)}).one("dashboards");return c.organizationId=b.getOrganizationId(),d.customPOST(c)},update:function(a,c){return d.one(a).customPUT(c,"",{organizationId:b.getOrganizationId()})},getDashboardBookmark:function(a){return c.dashboardViewerEndpoint+"/dashboards/"+a+"/bookmark"}}}]),angular.module("appsngen.portal.data.services").factory("widgetService",["Restangular","authSession","CONFIG",function(a,b,c){var d=a.one("gadget-management"),e=a.one("widgets"),f=a.one("search"),g=c.viewerEndpoint+"/widgets",h=a.allUrl("viewer.widgets",g);return{getWidgets:function(a){a=a||{};var c={offset:a.offset,max:a.max,sort:a.sort,order:a.order,platform:a.platform,category:a.category},e="apps/";return b.isSalesUser()||(c.visibilities="public,default,private"),a.search?(e+="published",c.organizationId=b.getOrganizationId(),c.search=a.search,f.one(e).get(c)):(e+="market",c.clientId=b.getOrganizationId(),c.organizationId=a.organization,d.one(e).get(c))},getSandboxWidgets:function(a){var b="/apps/dev";return a=a||{},d.one(b).get({offset:a.offset,max:a.max,sort:a.sort,order:a.order})},getAdminWidgets:function(a){return d.one("apps").get(a)},getSubscribedWidgetsForDashboard:function(a){return d.one(b.getOrganizationId()).one("apps/subscribed").get({view:"dashboard",platform:a})},getWidgetPreview:function(a){var c={view:"details",organizationId:b.getOrganizationId()};return b.isSalesUser()&&(c.allowPrivate=!0),e.one(a).get(c)},getWidgetConfig:function(a){var c={view:"config",organizationId:b.getOrganizationId()};return b.isSalesUser()&&(c.allowPrivate=!0),e.one(a).get(c)},submitForReview:function(a){var c=a+"/submitted";return e.one(c).put({organizationId:b.getOrganizationId()})},recallReview:function(a){var c=a+"/recalled";return e.one(c).put({organizationId:b.getOrganizationId()})},retireWidget:function(a){var c=a+"/retired";return e.one(c).put({organizationId:b.getOrganizationId()})},rejectWidget:function(a){var c=a.id+"/rejected",d=e.one(c);return d.comment=a.comment,d.put({organizationId:b.getOrganizationId()})},publishWidget:function(a){var c=a+"/published";return e.one(c).put({organizationId:b.getOrganizationId()})},putUnderReview:function(a){var c=a+"/reviewed";return e.one(c).put({organizationId:b.getOrganizationId()})},deleteWidget:function(a){return h.one(a).remove()},uploadWidget:function(a){return h.withHttpConfig({transformRequest:[]}).customPOST(a,"",{},{"Content-Type":"application/octet-stream"})},updateWidget:function(a){return h.withHttpConfig({transformRequest:[]}).customPUT(a,"",{},{"Content-Type":"application/octet-stream"})},getWidgetThumbnailURL:function(a){return c.viewerEndpoint+a.thumbnail},getWidgetArchiveURL:function(a){return g+"/"+a+"?token="+encodeURIComponent(b.getIdentityToken())},getWidgetURL:function(a,b,d){return c.viewerEndpoint+"/content/widgets/"+a+"/index.html?parent="+encodeURIComponent(b)+"&token="+encodeURIComponent(d)}}}]),angular.module("appsngen.portal.data.services").factory("dataSourceService",["Restangular","authSession","CONFIG",function(a,b,c){var d=a.one("data-sources"),e=a.one("search"),f=c.dataSourceProxyEndpoint+"/data-sources-management",g=a.allUrl("dataSourceProxy.dsmanagement",f),h=c.dataSourceProxyEndpoint+"/static/data-sources-management",i=a.allUrl("dataSourceProxy.static",h);return{getDataSources:function(a){a=a||{};var b={sort:a.sort,order:a.order,offset:a.offset,max:a.max,category:a.category};if(a.search){var c="data-sources/published";return b.search=a.search,e.one(c).get(b)}return b.view="market",b.organizationId=a.organization,d.get(b)},getAdminDataSources:function(a){return a=$.extend(a,{view:"admin"}),d.get(a)},getSandboxDataSources:function(a){return d.get({view:"sandbox",organizationId:b.getOrganizationId(),offset:a.offset,max:a.max,sort:a.sort,order:a.order})},getDataSourcePreview:function(a){return d.one(a).get({view:"details",organizationId:b.getOrganizationId()})},deleteDataSource:function(a){return g.one(a).remove()},uploadDataSource:function(a){return g.withHttpConfig({transformRequest:[]}).customPOST(a,"",{},{"Content-Type":"application/octet-stream"})},getDataSourceResponseExamples:function(a){return i.one(a+"/examples").get()},submitForReview:function(a){return d.one(a).put({action:"submit"})},putUnderReview:function(a){return d.one(a).put({action:"review"})},recallReview:function(a){return d.one(a).put({action:"recall"})},publishDataSource:function(a){return d.one(a).put({action:"publish"})},rejectDataSource:function(a,b){return d.one(a).customPUT({comment:b},"",{action:"reject"})},retireDataSource:function(a){return d.one(a).one("retired").put()},getDataSourceThumbnailURL:function(a){return c.dataSourceProxyEndpoint+"/static/data-sources-management/"+a+"/logo"},getDataSourceArchiveURL:function(a){return f+"/"+a+"?accessToken="+encodeURIComponent(b.getIdentityToken())}}}]),angular.module("appsngen.portal.data.services").factory("applicationService",["$http","Restangular","authSession","CONFIG",function(a,b,c,d){var e=b.one("mobile-applications");return{getSandboxApplications:function(a){return e.get({clientId:c.getOrganizationId(),offset:a.offset,max:a.max,sort:a.sort,order:a.order,devices:a.devices})},"delete":function(a){return e.one(a).remove({clientId:c.getOrganizationId()})},create:function(a,d){var e=new FormData;return a.organizationId=c.getOrganizationId(),e.append("details",angular.toJson(a)),d&&e.append("logo",d),b.one("mobile-applications").withHttpConfig({transformRequest:angular.identity}).customPOST(e,"",void 0,{"Content-Type":void 0})},update:function(a){return e.one(a.id).customPUT(a,"",{clientId:c.getOrganizationId()})},get:function(a){return e.one(a).get({clientId:c.getOrganizationId()})},uploadLogo:function(a,d){var e=new FormData;return e.append("logo",d),b.one("mobile-applications").one(a).withHttpConfig({transformRequest:angular.identity}).customPOST(e,"file",{clientId:c.getOrganizationId()},{"Content-Type":void 0})},getApplicationThumbnailURL:function(a){return d.restServicesEndpoint+"/mobile-applications/"+a.id+"/file?clientId="+encodeURIComponent(c.getOrganizationId())+"&accessToken="+c.getAccessToken()}}}]),angular.module("appsngen.portal.application.controllers",[]),angular.module("appsngen.portal.application",["appsngen.portal.application.controllers"]),angular.module("appsngen.portal.application.controllers").controller("CreateApplicationCtrl",["$scope",function(a){a.selectedDevices=[],a.devices={IPAD:"iPad",IPHONE:"iPhone",DESKTOP:"desktop"},a.dashboards=[{name:"my dashboard 1",widgets:["top news","portfolio","top news","portfolio","top news","portfolio","top news","portfolio"],type:"desktop",id:"0"},{name:"my dashboard 2",widgets:["top news","portfolio"],type:"iphone",id:"1"},{name:"my dashboard 1",widgets:["top news","portfolio","top news","portfolio","top news","portfolio","top news","portfolio"],type:"desktop",id:"2"},{name:"my dashboard 2",widgets:["top news","portfolio"],type:"ipad",id:"3"},{name:"my dashboard 1",widgets:["top news","portfolio","top news","portfolio","top news","portfolio","top news","portfolio"],type:"desktop-ipad-iphone",id:"4"},{name:"my dashboard 2",widgets:["top news","portfolio"],type:"ipad",id:"5"},{name:"my dashboard 1",widgets:["top news","portfolio","top news","portfolio","top news","portfolio","top news","portfolio"],type:"ipad-iphone",id:"6"},{name:"my dashboard 2",widgets:["top news","portfolio"],type:"desktop",id:"7"},{name:"my dashboard 1",widgets:["top news","portfolio","top news","portfolio","top news","portfolio","top news","portfolio"],type:"desktop",id:"8"},{name:"my dashboard 2",widgets:["top news","portfolio"],type:"desktop-ipad",id:"9"},{name:"my dashboard 1",widgets:["top news","portfolio","top news","portfolio","top news","portfolio","top news","portfolio"],type:"desktop-ipad",id:"10"},{name:"my dashboard 2",widgets:["top news","portfolio"],type:"ipad",id:"11"}];var b=function(b){var c,d,e,f,g=$(b.relatedTarget).parent(),h=$(b.target),i=g.attr("id");d=g.offset().left-h.offset().left,e=g.offset().top-h.offset().top,d=d>0?d:0,e=e>0?e:0,a.$apply(function(){for(var b=0;b<a.dashboards.length;b++)if(a.dashboards[b].id===i){f=b;break}a.dashboards[f].droped="true"}),c=h.find("#"+i+" .dashboard"),c.css("transform","translate("+d+"px, "+e+"px)"),c.attr("data-x",d),c.attr("data-y",e)};a.draggableListInitObject={target:".drag-label",restrict:{restriction:".droppable-area"}},a.draggableFildInitObject={target:".used-item",restrict:{restriction:".full-screen-page-view"}},a.droppableInitObject={ondrop:b}}]),angular.module("appsngen.portal.common.directives").directive("searchInput",function(){return{restrict:"E",transclude:!0,templateUrl:"views/common/searchinput.html",scope:{placeholder:"@"},link:function(a,b){var c=b.find(".search-input-wrapper"),d=c.find("input"),e=c.find(".search-icon"),f=c.find(".clear-icon"),g=c.find("p"),h=c.find("i"),i=!1,j=!1,k=function(){
i||(b.addClass("search-input-is-active"),i=!0),d.focus()},l=function(){i&&(b.removeClass("search-input-is-active"),f.removeClass("active"),d.val(""),i=!1)};e.click(k),g.click(k),d.on("focusout",function(){j||l()}),d.on("input",function(a){a.target.value?f.addClass("active"):f.removeClass("active")}),f.click(function(){d.val(""),f.removeClass("active"),d.focus()}),h.mouseenter(function(){j=!0}),h.mouseleave(function(){j=!1})}}}),angular.module("appsngen.portal.common.directives").directive("dashboard",["$timeout",function(a){return{restrict:"E",transclude:!0,templateUrl:"views/common/dashboard.html",scope:{name:"@",widgetList:"@",type:"@",index:"@",id:"@"},link:function(b,c){var d=c.find(".widget-list-wrapper"),e=c.find(".description"),f=c.find(".show-widget-list"),g=c.find(".hide-widget-list"),h=d.find(".widget-list");a(function(){b.showMore=!1,d[0].offsetHeight<h[0].offsetHeight&&(b.showMore=!0,f.click(function(){e.addClass("all-list")}),g.click(function(){e.removeClass("all-list")}))})}}}]),angular.module("appsngen.portal.sandbox.widget",[]),angular.module("appsngen.portal.sandbox.datasource",[]),angular.module("appsngen.portal.sandbox.application",[]),angular.module("appsngen.portal.sandbox.dashboard",[]),angular.module("appsngen.portal.sandbox.common",[]),angular.module("appsngen.portal.sandbox",["appsngen.portal.sandbox.widget","appsngen.portal.sandbox.datasource","appsngen.portal.sandbox.application","appsngen.portal.sandbox.dashboard","appsngen.portal.sandbox.common"]),angular.module("appsngen.portal.sandbox.widget.controllers",[]),angular.module("appsngen.portal.sandbox.widget",["appsngen.portal.sandbox.widget.controllers"]),angular.module("appsngen.portal.sandbox.widget.controllers").controller("SandboxWidgetsCtrl",["$scope","$location","authSession","widgetService","PagingModel",function(a,b,c,d,e){var f="sort",g=new e(d.getSandboxWidgets);a.loadingWidgets=!0,a.$location=b,a.widgets=[],a.uploadAction={name:"Upload Widget",icon:"upload-widget-icon"},a.actionOptions={items:[{name:"Submit for review",icon:"fa-long-arrow-right"},{name:"Recall review",icon:"fa-times-circle-o"},{name:"Download",icon:"fa-download"}]};var h=function(){a.loadingWidgets=!0,g.load().then(function(b){a.widgets=a.widgets.concat(b),a.hasMore=g.hasMore()})["finally"](function(){a.loadingWidgets=!1})},i=function(){var c=b.search()[f]||"uploadDate";a.widgets=[],g.setSort(c),"uploadDate"===c?g.setOrder("DESC"):g.setOrder("ASC"),h()};a.loadMoreWidgets=h,a.getThumbnailURL=function(a){return d.getWidgetThumbnailURL(a)},a.getWidgetArchiveURL=function(a){return d.getWidgetArchiveURL(a.urn)},i()}]),angular.module("appsngen.portal.sandbox.datasource.controllers",[]),angular.module("appsngen.portal.sandbox.datasource",["appsngen.portal.sandbox.datasource.controllers"]),angular.module("appsngen.portal.sandbox.datasource.controllers").controller("SandboxDataSourceCtrl",["$scope","$location","authSession","dataSourceService","PagingModel",function(a,b,c,d,e){var f="sort",g=new e(d.getSandboxDataSources);a.loadingDatasources=!0,a.$location=b,a.dataSources=[],a.uploadAction={name:"Upload Data Source",icon:"upload-datasource-icon"},a.actionOptions={items:[{name:"Submit for review",icon:"fa-long-arrow-right"},{name:"Recall review",icon:"fa-times-circle-o"},{name:"Download",icon:"fa-download"}]};var h=function(){a.loadingDatasources=!0,g.load().then(function(b){a.dataSources=a.dataSources.concat(b),a.hasMore=g.hasMore()})["finally"](function(){a.loadingDatasources=!1})},i=function(){var c=b.search()[f]||"uploadDate";a.dataSources=[],g.setSort(c),"uploadDate"===c?g.setOrder("DESC"):g.setOrder("ASC"),h()};a.loadMore=h,a.getThumbnailURL=function(a){return d.getDataSourceThumbnailURL(a.id)},a.getDataSourceArchiveURL=function(a){return d.getDataSourceArchiveURL(a.id)},i()}]),angular.module("appsngen.portal.sandbox.application.controllers",[]),angular.module("appsngen.portal.sandbox.application",["appsngen.portal.sandbox.application.controllers"]),angular.module("appsngen.portal.sandbox.application.controllers").controller("SandboxApplicationCtrl",["$scope","$location","authSession","applicationService","PagingModel",function(a,b,c,d,e){var f="sort",g=new e(d.getSandboxApplications);a.loadingApplications=!0,a.$location=b,a.dataSources=[],a.uploadAction={name:"New Apllication",icon:"upload-application-icon"};var h=function(){g.load().then(function(b){b.forEach(function(a){a.thumbnail=d.getApplicationThumbnailURL(a)}),a.applications=a.applications.concat(b),a.hasMore=g.hasMore()})["finally"](function(){a.loadingApplications=!1})},i=function(){a.applications=[];var c=b.search()[f]||"name";g.setSort(c),g.setSort(c),"uploadDate"===c?g.setOrder("DESC"):g.setOrder("ASC"),h()};a.getThumbnailURL=function(a){return a.thumbnail.message&&(a.thumbnail="error"),a.thumbnail},a.loadMore=h,i()}]),angular.module("appsngen.portal.sandbox.dashboard.controllers",[]),angular.module("appsngen.portal.sandbox.dashboard",["appsngen.portal.sandbox.dashboard.controllers"]),angular.module("appsngen.portal.sandbox.dashboard.controllers").controller("SandboxDashboardCtrl",["$scope","$location","authSession","dashboardService","notifier","PagingModel",function(a,b,c,d,e,f){var g="sort",h=new f(d.getSandboxDashboards);a.dashboards=[],a.loadingDashboards=!0,a.uploadAction={name:"New Dashboard",icon:"upload-dashboard-icon"};var i=function(){a.loadingDashboards=!0,h.load().then(function(b){b.forEach(function(a){a.devices=a.devices.join("-").toString().toLowerCase()}),a.dashboards=a.dashboards.concat(b),a.hasMore=h.hasMore()})["finally"](function(){a.loadingDashboards=!1})};a.loadMore=i;var j=function(){var a=b.search()[g]||"name";h.setSort(a),"uploadDate"===a?h.setOrder("DESC"):h.setOrder("ASC"),i()};j()}]),angular.module("appsngen.portal.sandbox.common.controllers",[]),angular.module("appsngen.portal.sandbox.common.directives",[]),angular.module("appsngen.portal.sandbox.common",["appsngen.portal.sandbox.common.controllers","appsngen.portal.sandbox.common.directives"]),angular.module("appsngen.portal.sandbox.common.controllers").controller("SandboxCtrl",["$scope","$state",function(a,b){a.navigationStates=[{name:"Widgets",state:"sandbox.widgets"},{name:"Data Sources",state:"sandbox.datasources"},{name:"Dashboards",state:"sandbox.dashboards"},{name:"Applications",state:"sandbox.applications"}],a.title="Sandbox",a.goToState=function(a){b.go(a)}}]),angular.module("appsngen.portal.sandbox.common.directives").directive("sandboxPlate",function(){return{restrict:"E",templateUrl:"views/common/sandboxplate.html"}}),angular.module("appsngen.portal.sandbox.common.directives").directive("sandboxActionplate",function(){return{restrict:"E",templateUrl:"views/common/sandboxactionplate.html"}}),angular.module("appsngen.portal.subscriptions.widget",[]),angular.module("appsngen.portal.subscriptions.datasource",[]),angular.module("appsngen.portal.subscriptions.common",[]),angular.module("appsngen.portal.subscriptions",["appsngen.portal.subscriptions.widget","appsngen.portal.subscriptions.datasource","appsngen.portal.subscriptions.common"]),angular.module("appsngen.portal.subscriptions.widget.controllers",[]),angular.module("appsngen.portal.subscriptions.widget",["appsngen.portal.subscriptions.widget.controllers"]),angular.module("appsngen.portal.subscriptions.widget.controllers").controller("SubscriptionsWidgetsCtrl",["$scope","$location","authSession","widgetService","PagingModel",function(a,b,c,d,e){var f="sort",g=new e(d.getSandboxWidgets);a.loadingWidgets=!0,a.$location=b,a.widgets=[],a.uploadAction={name:"Upload Widget",icon:"upload-widget-icon"},a.actionOptions={items:[{name:"Submit for review",icon:"fa-long-arrow-right"},{name:"Recall review",icon:"fa-times-circle-o"},{name:"Download",icon:"fa-download"}]};var h=function(){a.loadingWidgets=!0,g.load().then(function(b){a.widgets=a.widgets.concat(b),a.hasMore=g.hasMore()})["finally"](function(){a.loadingWidgets=!1})},i=function(){var c=b.search()[f]||"uploadDate";a.widgets=[],g.setSort(c),"uploadDate"===c?g.setOrder("DESC"):g.setOrder("ASC"),h()};a.loadMoreWidgets=h,a.getThumbnailURL=function(a){return d.getWidgetThumbnailURL(a)},a.getWidgetArchiveURL=function(a){return d.getWidgetArchiveURL(a.urn)},i()}]),angular.module("appsngen.portal.subscriptions.datasource.controllers",[]),angular.module("appsngen.portal.subscriptions.datasource",["appsngen.portal.subscriptions.datasource.controllers"]),angular.module("appsngen.portal.subscriptions.datasource.controllers").controller("SubscriptionsDataSourceCtrl",["$scope","$location","authSession","dataSourceService","PagingModel",function(a,b,c,d,e){var f="sort",g=new e(d.getSandboxDataSources);a.loadingDatasources=!0,a.$location=b,a.dataSources=[],a.uploadAction={name:"Upload Data Source",icon:"upload-datasource-icon"},a.actionOptions={items:[{name:"Submit for review",icon:"fa-long-arrow-right"},{name:"Recall review",icon:"fa-times-circle-o"},{name:"Download",icon:"fa-download"}]};var h=function(){a.loadingDatasources=!0,g.load().then(function(b){a.dataSources=a.dataSources.concat(b),a.hasMore=g.hasMore()})["finally"](function(){a.loadingDatasources=!1})},i=function(){var c=b.search()[f]||"uploadDate";a.dataSources=[],g.setSort(c),"uploadDate"===c?g.setOrder("DESC"):g.setOrder("ASC"),h()};a.loadMore=h,a.getThumbnailURL=function(a){return d.getDataSourceThumbnailURL(a.id)},a.getDataSourceArchiveURL=function(a){return d.getDataSourceArchiveURL(a.id)},i()}]),angular.module("appsngen.portal.subscriptions.common.directives",[]),angular.module("appsngen.portal.subscriptions.common.controllers",[]),angular.module("appsngen.portal.subscriptions.common",["appsngen.portal.subscriptions.common.directives","appsngen.portal.subscriptions.common.controllers"]),angular.module("appsngen.portal.subscriptions.common.directives").directive("subscriptionsPlate",function(){return{restrict:"E",templateUrl:"views/common/subscriptionsplate.html"}}),angular.module("appsngen.portal.subscriptions.common.controllers").controller("SubscriptionsCtrl",["$scope","$state",function(a,b){a.navigationStates=[{name:"Widgets",state:"subscriptions.widgets"},{name:"Data Sources",state:"subscriptions.datasources"}],a.title="Subscriptions",a.goToState=function(a){b.go(a)}}]),angular.element(document).ready(function(){$.ajax({url:"config.json",type:"GET",success:function(a){angular.module("appsngen.portal").constant("CONFIG",a),angular.bootstrap(document,["appsngen.portal"])},error:function(){window.location.href="/error.html"}})}),angular.module("appsngen.portal",["restangular","base64","LocalStorageModule","ngDialog","appsngen.portal.routing","appsngen.portal.common","appsngen.portal.application","appsngen.portal.auth","appsngen.portal.data","appsngen.portal.accountsettings","ui.bootstrap.dropdown","ui.bootstrap.position","appsngen.portal.sandbox","appsngen.portal.subscriptions"]).constant("ERRORS",{APPSNGEN_API_ERROR:"Unable to load AppsNgen API",DASHBOARD_API_ERROR:"Unable to load Dashboard API"}).config(["RestangularProvider","CONFIG",function(a,b){a.setBaseUrl(b.restServicesEndpoint)}]).run(["$rootScope","$state","Restangular","CONFIG","authSession","$window","notifier",function(a,b,c,d,e,f,g){var h=d.restServicesEndpoint+"/tokens",i=["login","logout"];a.marketingEndpoint=d.marketingEndpoint,a.$on("$stateChangeStart",function(c,d){e.isAuthenticated()||-1!==i.indexOf(d.name)||(a.loginStateName=d.name,b.go("login",{},{location:"replace"}),c.preventDefault())}),a.$on("$stateChangeSuccess",function(b,c){a.title=c.title}),c.setFullRequestInterceptor(function(a,b,c,f,g,i,j){if(0!==f.indexOf(h)){var k;k=0===f.indexOf(d.viewerEndpoint)||0===f.indexOf(d.dataSourceProxyEndpoint)?e.getIdentityToken():e.getAccessToken(),g.Authorization="Bearer "+k}return{element:a,params:i,headers:g,httpConfig:j}}),c.setErrorInterceptor(function(a){var b=a.data.message;return b&&g.error(b),!0}),f.ga("set","dimension1",e.getUsername()||"anonymous"),f.ga("send","pageview")}]),angular.module("appsngen.portal.routing",["ui.router"]).run(["$rootScope","$state",function(a,b){a.$state=b}]).config(["$stateProvider","$locationProvider","$urlRouterProvider",function(a,b,c){var d,e=[{title:"Login",name:"login",url:"/login?accountActivated",reloadOnSearch:!1,controller:"LoginCtrl",templateUrl:"views/auth/login.html"},{title:"Login EPAM SSO",name:"loginEpamSSOCallback",url:"/login/epam-sso/auth?code&error&error_description",controller:"LoginEpamSSOCallbackCtrl",templateUrl:"views/auth/loginepamssocallback.html"},{title:"Logout",name:"logout",url:"/logout",controller:"LogoutCtrl"},{title:"Home",name:"home",url:"/",onEnter:["$state",function(a){a.go("sandbox.widgets",{},{location:"replace"})}]},{title:"Create Application",name:"createApplication",url:"/create-application",controller:"CreateApplicationCtrl",templateUrl:"views/application/create-application.html"},{title:"Under Construction",name:"underConstruction",url:"/under-construction",templateUrl:"views/underconstruction/underconstruction.html"},{title:"Sandbox",name:"sandbox","abstract":!0,url:"/sandbox",templateUrl:"views/common/navigation.html",controller:"SandboxCtrl"},{title:"Sandbox",name:"sandbox.widgets",url:"/widgets",templateUrl:"views/sandbox/widget/sandboxwidget.html",controller:"SandboxWidgetsCtrl"},{title:"Sandbox",name:"sandbox.datasources",url:"/data-sources",templateUrl:"views/sandbox/datasource/sandboxdatasource.html",controller:"SandboxDataSourceCtrl"},{title:"Sandbox",name:"sandbox.applications",url:"/applications",templateUrl:"views/sandbox/application/sandboxapplication.html",controller:"SandboxApplicationCtrl"},{title:"Sandbox",name:"sandbox.dashboards",url:"/dashboards",templateUrl:"views/sandbox/dashboard/sandboxdashboard.html",controller:"SandboxDashboardCtrl"},{title:"Subscriptions",name:"subscriptions","abstract":!0,url:"/subscriptions",templateUrl:"views/common/navigation.html",controller:"SubscriptionsCtrl"},{title:"Subscriptions",name:"subscriptions.widgets",url:"/widgets",templateUrl:"views/subscriptions/widgets/subscriptionswidgets.html",controller:"SubscriptionsWidgetsCtrl"},{title:"Subscriptions",name:"subscriptions.datasources",url:"/data-sources",templateUrl:"views/subscriptions/datasources/subscriptionsdatasources.html",controller:"SubscriptionsDataSourceCtrl"},{title:"Account Settings",name:"accountSettings",url:"/account-settings",templateUrl:"views/accountsettings/accountsettings.html",controller:"AccountCtrl"}];for(d=e.length-1;d>=0;d--)a.state(e[d]);c.otherwise(function(a){var b=a.get("$state");b.go("underConstruction",{},{location:"replace"})}),b.html5Mode(!0)}]);